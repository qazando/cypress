trigger:
- main   # ou o nome da sua branch

pool:
  name: 'Default'   # seu Self-Hosted Agent

steps:
- task: NodeTool@0
  inputs:
    versionSpec: '18.x'
  displayName: 'Use Node.js 18'

- script: |
    echo "ğŸ“¦ Instalando dependÃªncias..."
    npm ci

    echo "ğŸ” Verificando instalaÃ§Ã£o do Cypress..."
    npx cypress verify

    echo "ğŸ“¥ Instalando Cypress (se necessÃ¡rio)..."
    npx cypress install

    echo "ğŸš€ Executando testes Cypress..."
    npx cypress run --browser chrome
  displayName: 'Install deps and run Cypress'